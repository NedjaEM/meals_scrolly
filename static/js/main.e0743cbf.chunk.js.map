{"version":3,"sources":["logo.svg","App.js","reportWebVitals.js","meals.csv","components/StackedBar.jsx","components/Scatter.jsx","components/ScrollamaMain.jsx","index.js"],"names":["App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","StackedBar","data","useEffect","length","height","d3","selectAll","remove","svg","append","attr","margin","top","right","bottom","left","total","d","value","console","log","stacked","map","name","startValue","endValue","x","formatPercent","tickFormat","color","domain","range","join","text","style","call","Fragment","id","Scatter","useRef","width","div","xScale","Date","yScale","xAxis","yAxis","mycolor","Dish","enter","radius","transition","delay","duration","on","e","this","select","html","Meal","cuisine","meat","restaurant","healthy","update","exit","linearGradient","ScrollamaMain","useState","currentStepIndex","setCurrentStepIndex","meals","setData","csv","datameals","i","prop","homecooked","reduce","n","bought","meat_all","j","meat_final","k","Object","keys","count_healthy","count_nothealthy","n1","nothealthy","bar_new","direction","position","onStepEnter","document","getElementById","onStepExit","_","stepIndex","offset","opacity","fontFamily","fontSize","paddingLeft","paddingRight","ReactDOM","render"],"mappings":"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","file":"static/js/main.e0743cbf.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import logo from './logo.svg';\nimport './App.css';\n\n\nfunction App() {\n  \n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>\n          Edit <code>src/App.js</code> and save to reload.\n        </p>\n        <a\n          className=\"App-link\"\n          href=\"https://reactjs.org\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Learn React\n        </a>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export default __webpack_public_path__ + \"static/media/meals.2b9dda03.csv\";","import React, { useEffect, useRef } from \"react\";\r\nimport * as d3 from 'd3';\r\n\r\nfunction StackedBar({ data }) {\r\n\r\n  useEffect(() => {\r\n\r\n    if (data.length !== 0) {\r\n\r\n      let width = 500;\r\n      let height = 100;\r\n\r\n      d3.select(\"#d3-stack\").selectAll(\"svg\").selectAll(\"*\").remove()\r\n      \r\n      const svg = d3.select(\"#d3-stack\")\r\n        .append(\"svg\")\r\n        .attr(\"width\", width)\r\n        .attr(\"height\", height);\r\n\r\n      let margin = ({ top: 0, right: 0, bottom: 0, left: 0 })\r\n\r\n      height = 33\r\n\r\n      let total = d3.sum(data, d => d.value)\r\n      console.log(total)\r\n      let value = 0\r\n      let stacked = data.map(d => ({\r\n        name: d.name,\r\n        value: d.value / total,\r\n        startValue: value / total,\r\n        endValue: (value += d.value) / total\r\n      }))\r\n      console.log(stacked)\r\n\r\n\r\n      let x = d3.scaleLinear([0, 1], [margin.left, width - margin.right])\r\n\r\n      let formatPercent = x.tickFormat(null, \"%\")\r\n\r\n      let color = d3.scaleOrdinal()\r\n        .domain(data.map(d => d.name))\r\n        .range([\"#E06D06\", \"#FFC53A\"])\r\n\r\n      svg.append(\"g\")\r\n        .attr(\"stroke\", \"white\")\r\n        .selectAll(\"rect\")\r\n        .data(stacked)\r\n        .join(\"rect\")\r\n        .attr(\"fill\", d => color(d.name))\r\n        .attr(\"x\", d => x(d.startValue))\r\n        .attr(\"width\", d => x(d.endValue) - x(d.startValue))\r\n        .attr(\"height\", height)\r\n        .append(\"title\")\r\n        .text(d => `${d.name} ${formatPercent(d.value)}`);\r\n\r\n      svg.append(\"g\")\r\n        .attr(\"font-family\", \"sans-serif\")\r\n        .attr(\"font-size\", 12)\r\n        .selectAll(\"text\")\r\n        .data(stacked)\r\n        .join(\"text\")\r\n        .attr(\"fill\", \"#161032\")\r\n        .style(\"font-family\", \"Signika Negative, sans-serif\")\r\n        .attr(\"transform\", d => `translate(${x(d.startValue) + 6}, 6)`)\r\n        .call(text => text.append(\"tspan\")\r\n          .attr(\"y\", \"0.7em\")\r\n          .attr(\"font-weight\", \"bold\")\r\n          .text(d => d.name))\r\n        .call(text => text.append(\"tspan\")\r\n          .attr(\"x\", 0)\r\n          .attr(\"y\", \"1.7em\")\r\n          .attr(\"fill-opacity\", 0.7)\r\n          .text(d => formatPercent(d.value)));\r\n\r\n    }\r\n\r\n  }, [data]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div id='d3-stack'></div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default StackedBar;","import React, { useEffect, useRef } from \"react\";\r\nimport * as d3 from \"d3\";\r\n\r\nimport useResizeObserver from \"./useResizeObserver\";\r\n\r\n/**\r\n * Component that renders a StackedBar\r\n */\r\n\r\nfunction Scatter({ data }) {\r\n\r\n\r\n    const svgRef = useRef();\r\n    const wrapperRef = useRef();\r\n    useEffect(() => {\r\n        if (data.length != 0) {\r\n            const margin = { top: 20, bottom: 50, left: 100, right: 100 },\r\n                radius = 5;\r\n\r\n            const width = 1200;\r\n            const height = 450;\r\n\r\n            const svg = d3.select(\"#d3-container\")\r\n                .append(\"svg\")\r\n                .attr(\"width\", width)\r\n                .attr(\"height\", height);\r\n\r\n            const div =\r\n                svg\r\n                    .append(\"g\")\r\n                    .attr(\"class\", \"gbar\")\r\n\r\n\r\n            div.append('rect')\r\n                .attr(\"class\", \"tooltip\")\r\n                .attr(\"width\", width / 7)\r\n                .attr(\"height\", 0.8 * height)\r\n                .attr(\"x\", 0.85 * width)\r\n                .attr(\"y\", 0.001 * height)\r\n                .style(\"opacity\", 0)\r\n\r\n\r\n            const xScale = d3\r\n                .scaleBand()\r\n                .domain((data.map((d) => d.Date)))\r\n                .range([margin.left, width - 2 * margin.right]);\r\n\r\n            const yScale = d3\r\n                .scaleLinear()\r\n                .domain(d3.extent(data, (d) => d[\"rating of food\"]))\r\n                .range([height - 2 * margin.bottom, 3 * margin.top]);\r\n\r\n            const xAxis = d3.axisBottom(xScale);\r\n            const yAxis = d3.axisLeft(yScale);\r\n\r\n            var mycolor = d3.scaleLinear()\r\n                .domain([1, 10])\r\n                .range([\"yellow\", \"orange\"]);\r\n\r\n\r\n            svg\r\n                .selectAll(\"circle\")\r\n                .data(data, d => d.Dish)\r\n                .join(\r\n                    enter =>\r\n                        enter\r\n                            .append(\"circle\")\r\n                            .attr(\"class\", \"dot\")\r\n                            // .attr(\"opacity\", d => d[\"rating of how i feel about myself\"] / 10)\r\n                            .attr(\"r\", radius / 2)\r\n                            .attr(\"fill\", d => mycolor(d[\"rating of how i feel about myself\"]))\r\n                            .attr(\"cx\", d => xScale(d.Date))\r\n                            .attr(\"cy\", d => yScale(d[\"rating of food\"])) // initial value - to be transitioned\r\n                            .call(enter =>\r\n                                enter\r\n                                    .transition()\r\n                                    .delay(200)\r\n                                    .duration(200)\r\n                                    .attr(\"r\", 2 * radius))\r\n                            .on(\"mouseover\", function (e, d) {\r\n                                d3.select(this).transition()\r\n                                    .duration('100')\r\n                                    .style(\"stroke\", \"#161032\")\r\n                                    .style(\"stroke-width\", \"5px\")\r\n                                    .style(\"stroke-opacity\", \"0.4\")\r\n                                div.select(\"rect\").transition()\r\n                                    .duration(200)\r\n                                    .attr(\"class\", \"tooltip_rect\")\r\n                                    .style(\"stroke-width\", \"1px\")\r\n                                    .style(\"stroke\", \"#FFC53A\")\r\n                                    .style(\"opacity\", .9)\r\n                                div.append(\"foreignObject\")\r\n                                    .attr(\"height\", \"30px\")\r\n                                    .attr(\"width\", \"px\")\r\n                                    .style(\"fill\", \"#161032\")\r\n                                    .attr(\"width\", width / 7)\r\n                                    .attr(\"height\", 0.8 * height)\r\n                                    .attr(\"x\", 0.85 * width)\r\n                                    .attr(\"y\", 0.01 * height)\r\n                                    .append(\"xhtml:div\")\r\n                                    .style(\"padding-left\", \"5%\")\r\n                                    .style(\"font-family\", \"Signika Negative, sans-serif\")\r\n                                    .html(\r\n                                        \"<h3>\" + d.Meal + \" \" + d.Date + \"</h3> <div class='description'> <h4>\" + d.Dish + \"</h4></div><div class='social'><ul><li>\" + d.cuisine + \"</li><li>meat: \" + d.meat + \"</li><li>\" + d.restaurant + \"</li> </ul> <p>healthy: \" + d.healthy + \"</p>\"\r\n                                    )\r\n\r\n\r\n                            })\r\n\r\n\r\n                            .on(\"mouseout\", function (d) {\r\n                                d3.select(this).transition()\r\n                                    .duration('100')\r\n                                    .style(\"stroke-width\", \"0px\")\r\n                                div\r\n                                    .selectAll(\"foreignObject\").remove();\r\n\r\n                            })\r\n                    ,\r\n                    update =>\r\n                        update.call(update =>\r\n                            update\r\n                                .transition()\r\n                                .duration(500)\r\n                        )\r\n                    ,\r\n                    exit =>\r\n                        exit.call(exit =>\r\n                            exit\r\n                                .transition()\r\n                                .duration(700)\r\n                                .attr(\"r\", radius / 2)\r\n                        )\r\n                );\r\n\r\n            svg\r\n                .append(\"g\")\r\n                .attr(\"class\", \"axis x-axis\")\r\n                .attr(\"transform\", `translate(0,${height - 2 * margin.bottom})`)\r\n                .call(xAxis)\r\n                .selectAll(\"text\")\r\n                .attr(\"class\", \"xaxis-label\")\r\n                .style(\"font-family\", \"Signika Negative, sans-serif\")\r\n                .style(\"color\", \"#161032\")\r\n                .style(\"font-size\", \"15px\")\r\n                // .attr(\"dy\", \"4em\")\r\n                .attr(\"x\", \"4%\")\r\n                .attr(\"transform\", \"rotate(45)\")\r\n\r\n\r\n            svg\r\n                .append(\"g\")\r\n                .attr(\"class\", \"axis y-axis\")\r\n                .attr(\"transform\", `translate(${margin.left},0)`)\r\n                .call(yAxis)\r\n                .selectAll(\"text\")\r\n                .attr(\"class\", \"axis-label\")\r\n                // .attr(\"y\", \"50%\")\r\n                // .attr(\"dx\", \"-3em\")\r\n                .attr(\"font-family\", \"Signika Negative, sans-serif\")\r\n                .style(\"color\", \"#161032\")\r\n                .style(\"font-size\", \"15px\")\r\n\r\n\r\n            svg.append(\"text\")\r\n                .attr(\"class\", \"x label\")\r\n                .attr(\"text-anchor\", \"end\")\r\n                .attr(\"x\", width - 1.5*margin.right)\r\n                .attr(\"y\", height - 2*margin.bottom)\r\n                .text(\"Date\");\r\n\r\n            svg.append(\"text\")\r\n                .attr(\"class\", \"y label\")\r\n                .attr(\"text-anchor\", \"end\")\r\n                .attr(\"x\", 1.5*margin.left)\r\n                .attr(\"y\", margin.bottom)\r\n                .text(\"Rating of Food\");\r\n\r\n\r\n            //Append a defs (for definition) element to your SVG\r\n            let defs = svg.append(\"defs\");\r\n\r\n            //Append a linearGradient element to the defs and give it a unique id\r\n            let linearGradient = defs.append(\"linearGradient\")\r\n                .attr(\"id\", \"linear-gradient\");\r\n\r\n            //Set the color for the start (0%)\r\n            linearGradient.append(\"stop\")\r\n                .attr(\"offset\", \"0%\")\r\n                .attr(\"stop-color\", \"yellow\"); //light blue\r\n\r\n            //Set the color for the end (100%)\r\n            linearGradient.append(\"stop\")\r\n                .attr(\"offset\", \"100%\")\r\n                .attr(\"stop-color\", \"orange\"); //dark blue\r\n\r\n            svg.append(\"rect\")\r\n                .attr(\"width\", 300)\r\n                .attr(\"height\", 30)\r\n                .attr(\"x\", 0.1 * width)\r\n                .attr(\"y\", -10)\r\n                .style(\"fill\", \"url(#linear-gradient)\");\r\n\r\n            svg.append(\"text\")\r\n                .attr(\"class\", \"legend-label\")\r\n                .text(\"0\")\r\n                .attr(\"font-family\", \"Signika Negative, sans-serif\")\r\n                .style(\"color\", \"#161032\")\r\n                .attr(\"x\", 0.1 * width)\r\n                .attr(\"y\", 20)\r\n\r\n            svg.append(\"text\")\r\n                .attr(\"class\", \"legend-label\")\r\n                .text(\"10\")\r\n                .attr(\"font-family\", \"Signika Negative, sans-serif\")\r\n                .style(\"color\", \"#161032\")\r\n                .attr(\"x\", 0.1 * width + 280)\r\n                .attr(\"y\", 20)\r\n\r\n            svg.append(\"text\")\r\n                .attr(\"class\", \"legend-label\")\r\n                .text(\"How did the food make me feel?\")\r\n                .attr(\"font-family\", \"Signika Negative, sans-serif\")\r\n                .style(\"color\", \"#161032\")\r\n                .attr(\"x\", 0.15 * width)\r\n                .attr(\"y\", 35)\r\n\r\n        }\r\n    }, [data]);\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div id=\"d3-container\"> </div>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default Scatter;","import React from 'react';\r\nimport { Scrollama, Step } from 'react-scrollama';\r\nimport datameals from '../meals.csv';\r\nimport { csv } from 'd3';\r\nimport { useEffect, useState } from 'react';\r\nimport StackedBar from './StackedBar';\r\nimport Scatter from \"./Scatter\";\r\n\r\n\r\nconst ScrollamaMain = () => {\r\n\r\n  const [currentStepIndex, setCurrentStepIndex] = useState(null);\r\n  const [meals, setData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    csv(datameals).then(meals => {\r\n      console.log(meals)\r\n      for (var i = 0; i < meals.length; i++) {\r\n        var obj = meals[i];\r\n        for (var prop in meals[i]) {\r\n          if (prop == \"rating of food\" || prop == \"rating of how i feel about myself\") {\r\n            meals[i][prop] = +meals[i][prop];\r\n          }\r\n        }\r\n      }\r\n      setData(meals);\r\n    });\r\n\r\n  }, []);\r\n\r\n  //home_cooked\r\n  let count_cooked = meals.reduce((n, i) => n + (i.bought === \"no\"), 0);\r\n  let count_bought = meals.reduce((n, i) => n + (i.bought !== \"no\"), 0);\r\n  const homecooked = [\r\n    {\r\n      \"name\": \"home-cooked\",\r\n      \"value\": count_cooked\r\n    },\r\n    {\r\n      \"name\": \"bought\",\r\n      \"value\": count_bought\r\n    }\r\n  ]\r\n  //meat\r\n  let count_nomeat = meals.reduce((n, i) => n + (i.meat === \"no\"), 0);\r\n  let count_meat = meals.reduce((n, i) => n + (i.meat != \"no\"), 0);\r\n\r\n  const meat = [\r\n    {\r\n      \"name\": \"meat\",\r\n      \"value\": count_nomeat\r\n    },\r\n    {\r\n      \"name\": \"nomeat\",\r\n      \"value\": count_meat\r\n    }\r\n  ]\r\n\r\n  let meat_all = []\r\n  \r\n  for (var i = 0, j = meals.length; i < j; i++) {\r\n    meat_all[meals[i].meat] = (meat_all[meals[i].meat] || 0) + 1;\r\n }\r\n\r\n\r\n console.log(meat_all.length)\r\n\r\n let meat_final = [];\r\n\r\n  for (var k = 0; k < meat_all.length; k++)\r\n    {\r\n      console.log(k)\r\n      console.log(Object.keys(meat_all[j]))\r\n      meat_final = [\r\n        {\r\n          \"name\" : Object.keys(meat_all[j]),\r\n          \"value\": meat_all [j]\r\n        }\r\n      ]\r\n\r\n    }\r\n\r\n console.log(\"meat is \",meat_final)\r\n console.log(\"meat is \",meat)\r\n\r\n  //healthy\r\n  let count_healthy = meals.reduce((n, i) => n + (i.healthy === \"yes\"), 0);\r\n  let count_nothealthy = meals.reduce((n1, i) => n1 + (i.nothealthy !== \"yes\"), 0);\r\n\r\n  const healthy = [\r\n    {\r\n      \"name\": \"healthy\",\r\n      \"value\": count_healthy\r\n    },\r\n    {\r\n      \"name\": \"nothealthy\",\r\n      \"value\": count_nothealthy\r\n    }\r\n  ]\r\n\r\n  //cuisine\r\n\r\n\r\n\r\n  let bar_new = {};\r\n  let text = \"\"\r\n  let direction = \"up\"\r\n\r\n  if (currentStepIndex === 1) { bar_new = meat; text = \"I only cook vegetarian meals or meals with fish and seafood at home. I never buy or cook meat in general and would order it if I went to eat out. That is why most of my meat intake is fish-based\" }\r\n  else if (currentStepIndex === 2) { bar_new = healthy; text = \"After each meal, I tried to collect data surrounding how healthy I instinctly thought it was. I think this is a good indication on how unconsciously affected I am by what society classifies as healthy and not. I do think I was a bit harsh on my choices as I did classify each time I ate pasta or any types of carbs as unhealthy when carbs are actually beneficial and necessary for a healthy diet.\" }\r\n  else if (currentStepIndex === 0) { bar_new = homecooked; text = \"I try to eat at home as much as possible. I make sure to cook during the day or at night and keep leftover most of the time. I always prefer to eat home-cooked meals because it makes me feel better knowing the ingredients\" }\r\n  else { bar_new = []; text = \"\" }\r\n\r\n  const onStepEnter = ({ data }) => {\r\n    setCurrentStepIndex(data);\r\n    if (data === 2 && direction == \"down\") {\r\n      document.getElementById('thestick').style.position = 'sticky';\r\n    }\r\n  };\r\n\r\n  const onStepExit = ({ data }) => {\r\n    if (data === 2) {\r\n      document.getElementById('thestick').style.position = 'absolute';\r\n      direction = \"down\"\r\n      \r\n    }\r\n\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1 style={{ position: 'fixed', top: '2%', left: '37%', color: \"#B26700\" }}>A month of Nadia's Meals</h1>\r\n      <h3 style={{ position: 'fixed', top: '10%', left: '44%', color: \"#B26700\" }}>Scroll to know more</h3>\r\n\r\n      {/* \r\n      <Demo /> */}\r\n\r\n      <div id=\"thestick\" style={{ position: 'fixed', top: '25%', left: '50%', width: '50%', height: '100%' }}>\r\n\r\n        <StackedBar data={bar_new}>\r\n        </StackedBar>\r\n\r\n      </div>\r\n      <div>\r\n        <Scrollama onStepEnter={onStepEnter} onStepExit={onStepExit}>\r\n          {[1, 2, 3].map((_, stepIndex) => (\r\n            <Step data={stepIndex} key={stepIndex} offset=\"0.7\">\r\n              <div\r\n                style={{\r\n                  margin: '50vh 0',\r\n                  color: '#161032',\r\n                  opacity: currentStepIndex === stepIndex ? 1 : 0.1,\r\n                  fontFamily: 'Signika Negative, sans-serif',\r\n                  fontSize: '30px',\r\n                  paddingLeft: \"10%\",\r\n                  paddingRight: \"60%\"\r\n                }}\r\n              >\r\n                * {text}\r\n              </div>\r\n            </Step>\r\n          ))}\r\n        </Scrollama>\r\n      </div>\r\n\r\n      <Scatter\r\n        data={meals}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ScrollamaMain;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport ScrollamaMain from './components/ScrollamaMain' \n\nReactDOM.render(\n  // <React.StrictMode>\n    <ScrollamaMain/>,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}